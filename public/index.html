<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B&Y Blog</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <header>
        <div class="logo">B&Y BLOG</div>
        
        <div class="header-right">
            <select id="lang-switch" onchange="changeLanguage(this.value)">
                <option value="ru">RU</option>
                <option value="en">EN</option>
                <option value="pl">PL</option>
            </select>

            <div id="auth-controls"></div>

            <div id="user-profile" style="display: none;">
                <img id="user-avatar" src="" alt="Avatar">
                <span id="user-name">User</span>
                <button class="btn-secondary" onclick="logout()" data-i18n="btn_logout" style="margin-left:10px;">–í—ã–π—Ç–∏</button>
            </div>

            <div id="login-buttons" style="display: flex; gap: 10px; align-items: center;">
                
                <a href="/auth/google" class="google-btn">
                    <i class="fab fa-google"></i> Google
                </a>

                <div id="tg-login-btn">
                    <script async src="https://telegram.org/js/telegram-widget.js?22" 
                        data-telegram-login="Miki_Satos_123_bot" 
                        data-size="medium" 
                        data-radius="5" 
                        data-onauth="onTelegramAuth(user)" 
                        data-request-access="write"></script>
                </div>
            </div>

        </div>
    </header>

    <div class="layout">
        <aside class="sidebar">
            <div class="menu-item active" onclick="loadArticles(); highlightMenu(this)" data-i18n="menu_home">üî• –ì–ª–∞–≤–Ω–∞—è</div>
            <div class="menu-item" onclick="loadFavorites(); highlightMenu(this)" data-i18n="menu_fav">üíé –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
            <div class="menu-item" onclick="loadDiscussions(); highlightMenu(this)" data-i18n="menu_discuss">üí¨ –û–±—Å—É–∂–¥–µ–Ω–∏—è</div>
            <hr>
            <div class="menu-section" data-i18n="menu_resources">–†–ï–°–£–†–°–´</div>
            <div class="menu-item" onclick="loadAbout(); highlightMenu(this)" data-i18n="menu_about">–û –Ω–∞—Å</div>
            <div class="menu-item" onclick="loadRules(); highlightMenu(this)" data-i18n="menu_rules">–ü—Ä–∞–≤–∏–ª–∞</div>
        </aside>

        <main id="app">
            </main>
    </div>

    <div id="create-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 data-i18n="modal_title">–ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é</h2>
            
            <input type="text" id="new-title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫..." required>
            
            <label style="color:#aaa; display:block; margin-bottom:5px;" data-i18n="modal_image">–ö–∞—Ä—Ç–∏–Ω–∫–∞ (—Ñ–∞–π–ª):</label>
            <input type="file" id="new-image-file" accept="image/*" style="margin-bottom:15px;">

            <textarea id="new-content" placeholder="–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏..." rows="10" required></textarea>
            <button onclick="submitArticle()" data-i18n="modal_publish">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>